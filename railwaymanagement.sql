-- TABLE CREATION
-- TABLE 1: USER_USE
CREATE TABLE USER_USE (
    USER_ID NUMBER(10) PRIMARY KEY, 
    FIRST_NAME VARCHAR2(50), 
    LAST_NAME VARCHAR2(50), 
    GENDER CHAR(1) DEFAULT 'M' CHECK(GENDER IN ('M','F')), 
    AGE NUMBER(2), 
    MOBILE_NO NUMBER(10), 
    CITY VARCHAR2(50), 
    STATE VARCHAR2(50), 
    PIN_CODE NUMBER(6)
);

-- TABLE 2: TRAIN
CREATE TABLE TRAIN (
    TRAIN_NO NUMBER(5) PRIMARY KEY, 
    TRAIN_NAME VARCHAR2(50), 
    CAPACITY NUMBER(4), 
    TRAIN_DESC VARCHAR2(50), 
    DESTINATION VARCHAR2(50), 
    ARRIVAL_TIME VARCHAR2(5)
);

-- TABLE 3: STATION
CREATE TABLE STATION (
    STATION_CODE VARCHAR2(5), 
    STATION_NAME VARCHAR2(50), 
    TRAIN_NO NUMBER(5) REFERENCES TRAIN(TRAIN_NO), 
    ARRIVAL_TIME VARCHAR2(5), 
    DEPARTURE_TIME VARCHAR2(5), 
    PLTF_NO VARCHAR2(5)
);

-- TABLE 4: TICKET
CREATE TABLE TICKET (
    PNR_NO NUMBER(10) PRIMARY KEY, 
    FIRST_NAME VARCHAR2(50), 
    LAST_NAME VARCHAR2(50), 
    TICKET_PRICE NUMBER(4), 
    TRAIN_NO NUMBER(5) REFERENCES TRAIN(TRAIN_NO), 
    TICKET_ID NUMBER(15)
);

-- TABLE 5: TICKET_STATUS
CREATE TABLE TICKET_STATUS (
    TICKET_ID NUMBER(15) PRIMARY KEY, 
    PNR_NO NUMBER(10) REFERENCES TICKET(PNR_NO), 
    CONFIRMED CHAR(1) DEFAULT 'Y' CHECK(CONFIRMED IN ('Y','N')), 
    WAITING CHAR(1) DEFAULT 'Y' CHECK(WAITING IN ('Y','N'))
);

-- TABLE 6: PAYMENT
CREATE TABLE PAYMENT (
    PNR_NO NUMBER(10) PRIMARY KEY, 
    TICKET_ID NUMBER(15) REFERENCES TICKET_STATUS(TICKET_ID), 
    PAY_DATE DATE
);

-- INSERT INTO USER_USE
INSERT INTO USER_USE (USER_ID, FIRST_NAME, LAST_NAME, GENDER, AGE, MOBILE_NO, CITY, STATE, PIN_CODE) 
VALUES (1000000001, 'Parin', 'Dhami', 'M', 17, '7600498107', 'Ahmedabad', 'Gujarat', '380001');

INSERT INTO USER_USE (USER_ID, FIRST_NAME, LAST_NAME, GENDER, AGE, MOBILE_NO, CITY, STATE, PIN_CODE) 
VALUES (1000000002, 'Het', 'Gangani', 'M', 17, '7861097967', 'Rajkot', 'Gujarat', '360001');

INSERT INTO USER_USE (USER_ID, FIRST_NAME, LAST_NAME, GENDER, AGE, MOBILE_NO, CITY, STATE, PIN_CODE) 
VALUES (1000000003, 'Khush', 'Diyora', 'M', 17, '9316890367', 'Vadodara', 'Gujarat', '390001');

INSERT INTO USER_USE (USER_ID, FIRST_NAME, LAST_NAME, GENDER, AGE, MOBILE_NO, CITY, STATE, PIN_CODE) 
VALUES (1000000004, 'Vansh', 'Dhameliya', 'M', 16, '7990701601', 'Surat', 'Gujarat', '395004');

INSERT INTO USER_USE (USER_ID, FIRST_NAME, LAST_NAME, GENDER, AGE, MOBILE_NO, CITY, STATE, PIN_CODE) 
VALUES (1000000005, 'Tripti', 'Dimiri', 'F', 29, '9876543214', 'Gandhinagar', 'Gujarat', '382001');

-- INSERT INTO TRAIN
INSERT INTO TRAIN (TRAIN_NO, TRAIN_NAME, CAPACITY, TRAIN_DESC, DESTINATION, ARRIVAL_TIME) 
VALUES (20901, 'MMCT - GNC Vande Bharat Express', 1128, 'AC Chair Car', 'Gandhinagar Capital', '12:25');

INSERT INTO TRAIN (TRAIN_NO, TRAIN_NAME, CAPACITY, TRAIN_DESC, DESTINATION, ARRIVAL_TIME) 
VALUES (82901, 'MMCT - ADI Tejas Express', 1008, 'AC Chair Car', 'Ahmedabad Junction', '22:20');

INSERT INTO TRAIN (TRAIN_NO, TRAIN_NAME, CAPACITY, TRAIN_DESC, DESTINATION, ARRIVAL_TIME) 
VALUES (12958, 'NDLS - ADI Swarna Jayanti Rajdhani Exp', 1408, 'Third AC Coach', 'Ahmedabad Junction', '08:45');

INSERT INTO TRAIN (TRAIN_NO, TRAIN_NAME, CAPACITY, TRAIN_DESC, DESTINATION, ARRIVAL_TIME) 
VALUES (12951, 'MMCT - NDLS Tejas Rajdhani Express', 1408, 'Third AC Coach', 'New Delhi', '08:32');

INSERT INTO TRAIN (TRAIN_NO, TRAIN_NAME, CAPACITY, TRAIN_DESC, DESTINATION, ARRIVAL_TIME) 
VALUES (12010, 'ADI - MMCT Shatabdi Express', 1008, 'AC Chair Car', 'Mumbai Central', '21:45');

-- INSERT INTO STATION
INSERT INTO STATION (STATION_CODE, STATION_NAME, TRAIN_NO, ARRIVAL_TIME, DEPARTURE_TIME, PLTF_NO) 
VALUES ('MMCT', 'Mumbai Central', 20901, '06:10', '06:15', '1');

INSERT INTO STATION (STATION_CODE, STATION_NAME, TRAIN_NO, ARRIVAL_TIME, DEPARTURE_TIME, PLTF_NO) 
VALUES ('MMCT', 'Mumbai Central', 82901, '06:40', '06:50', '2');

INSERT INTO STATION (STATION_CODE, STATION_NAME, TRAIN_NO, ARRIVAL_TIME, DEPARTURE_TIME, PLTF_NO) 
VALUES ('NDLS', 'New Delhi', 12958, '19:35', '19:55', '2');

INSERT INTO STATION (STATION_CODE, STATION_NAME, TRAIN_NO, ARRIVAL_TIME, DEPARTURE_TIME, PLTF_NO) 
VALUES ('MMCT', 'Mumbai Central', 12951, '16:45', '17:00', '1');

INSERT INTO STATION (STATION_CODE, STATION_NAME, TRAIN_NO, ARRIVAL_TIME, DEPARTURE_TIME, PLTF_NO) 
VALUES ('ADI', 'Ahmedabad Junction', 12010, '14:45', '15:10', '2');

-- INSERT INTO TICKET
INSERT INTO TICKET (PNR_NO, FIRST_NAME, LAST_NAME, TICKET_PRICE, TRAIN_NO, TICKET_ID) 
VALUES ('8836628295', 'Parin', 'Dhami', '1255', '20901', '200000932220827');

INSERT INTO TICKET (PNR_NO, FIRST_NAME, LAST_NAME, TICKET_PRICE, TRAIN_NO, TICKET_ID) 
VALUES ('8836474674', 'Het', 'Gangani', '1670', '82901', '200000932115659');

INSERT INTO TICKET (PNR_NO, FIRST_NAME, LAST_NAME, TICKET_PRICE, TRAIN_NO, TICKET_ID) 
VALUES ('8256712394', 'Khush', 'Diyora', '2340', '12958', '200000932185627');

INSERT INTO TICKET (PNR_NO, FIRST_NAME, LAST_NAME, TICKET_PRICE, TRAIN_NO, TICKET_ID) 
VALUES ('8658100133', 'Vansh', 'Dhameliya', '3085', '12951', '100000478160530');

INSERT INTO TICKET (PNR_NO, FIRST_NAME, LAST_NAME, TICKET_PRICE, TRAIN_NO, TICKET_ID) 
VALUES ('2830364730', 'Tripti', 'Dimiri', '1290', '12010', '100001483970886');

-- INSERT INTO TICKET_STATUS
INSERT INTO TICKET_STATUS (TICKET_ID, PNR_NO, CONFIRMED, WAITING) 
VALUES ('200000932220827', '8836628295', 'Y', 'N');

INSERT INTO TICKET_STATUS (TICKET_ID, PNR_NO, CONFIRMED, WAITING) 
VALUES ('200000932115659', '8836474674', 'Y', 'N');

INSERT INTO TICKET_STATUS (TICKET_ID, PNR_NO, CONFIRMED, WAITING) 
VALUES ('200000932185627', '8256712394', 'N', 'Y');

INSERT INTO TICKET_STATUS (TICKET_ID, PNR_NO, CONFIRMED, WAITING) 
VALUES ('100000478160530', '8658100133', 'Y', 'N');

INSERT INTO TICKET_STATUS (TICKET_ID, PNR_NO, CONFIRMED, WAITING) 
VALUES ('100001483970886', '2830364730', 'N', 'Y');

-- INSERT INTO PAYMENT
INSERT INTO PAYMENT (PNR_NO, TICKET_ID, PAY_DATE) 
VALUES ('8836628295', '200000932220827', TO_DATE('20/10/2022', 'DD/MM/YYYY'));

INSERT INTO PAYMENT (PNR_NO, TICKET_ID, PAY_DATE) 
VALUES ('8836474674', '200000932115659', TO_DATE('23/09/2022', 'DD/MM/YYYY'));

INSERT INTO PAYMENT (PNR_NO, TICKET_ID, PAY_DATE) 
VALUES ('8256712394', '200000932185627', TO_DATE('12/01/2023', 'DD/MM/YYYY'));

INSERT INTO PAYMENT (PNR_NO, TICKET_ID, PAY_DATE) 
VALUES ('8658100133', '100000478160530', TO_DATE('01/07/2024', 'DD/MM/YYYY'));

INSERT INTO PAYMENT (PNR_NO, TICKET_ID, PAY_DATE) 
VALUES ('2830364730', '100001483970886', TO_DATE('18/07/2023', 'DD/MM/YYYY'));
